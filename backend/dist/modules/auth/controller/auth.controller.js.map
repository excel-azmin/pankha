{"version":3,"sources":["../../../../src/modules/auth/controller/auth.controller.ts"],"sourcesContent":["import { User } from '@clerk/backend';\nimport { Controller, Get, UseGuards } from '@nestjs/common';\nimport { CommandBus } from '@nestjs/cqrs';\nimport { ApiTags } from '@nestjs/swagger';\nimport { CurrentUser } from 'src/common/shared/decorator/current-user.decorator';\nimport { ClerkAuthGuard } from 'src/common/shared/guards/clerk-auth.guard';\nimport { RegistrationCommand } from '../command/registration/registration-command';\n\n@Controller('auth')\n@ApiTags('Authentication and Authorization')\nexport class AuthController {\n  constructor(private readonly commandBus: CommandBus) {}\n\n  @UseGuards(ClerkAuthGuard)\n  @Get('v1/sync')\n  async authClerk(@CurrentUser() user: User) {\n    console.log('Syncing user with backend...', user);\n    return await this.commandBus.execute(new RegistrationCommand(user));\n  }\n}\n"],"names":["AuthController","authClerk","user","console","log","commandBus","execute","RegistrationCommand","constructor"],"mappings":";;;;+BAUaA;;;eAAAA;;;yBAVQ;wBACsB;sBAChB;yBACH;sCACI;gCACG;qCACK;;;;;;;;;;;;;;;AAI7B,IAAA,AAAMA,iBAAN,MAAMA;IAGX,MAEMC,UAAU,AAAeC,IAAU,EAAE;QACzCC,QAAQC,GAAG,CAAC,gCAAgCF;QAC5C,OAAO,MAAM,IAAI,CAACG,UAAU,CAACC,OAAO,CAAC,IAAIC,wCAAmB,CAACL;IAC/D;IAPAM,YAAY,AAAiBH,UAAsB,CAAE;aAAxBA,aAAAA;IAAyB;AAQxD"}